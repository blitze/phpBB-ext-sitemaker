(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[185],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return h},kt:function(){return d}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},h=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,p=e.parentName,h=l(e,["components","mdxType","originalType","parentName"]),u=s(n),d=i,f=u["".concat(p,".").concat(d)]||u[d]||c[d]||o;return n?r.createElement(f,a(a({ref:t},h),{},{components:n})):r.createElement(f,a({ref:t},h))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,a[1]=l;for(var s=2;s<o;s++)a[s]=n[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4222:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return p},metadata:function(){return s},toc:function(){return h},default:function(){return u}});var r=n(2122),i=n(9756),o=(n(7294),n(3905)),a=["components"],l={title:"Block Inheritance",sidebar_position:5},p=void 0,s={unversionedId:"user/site/block-inheritance",id:"user/site/block-inheritance",isDocsHomePage:!1,title:"Block Inheritance",description:"We have already seen that by setting a default layout, other pages that do not have blocks of their own will inherit the blocks from the default layout.",source:"@site/docs/user/site/block-inheritance.md",sourceDirName:"user/site",slug:"/user/site/block-inheritance",permalink:"/phpBB-ext-sitemaker/pt/docs/user/site/block-inheritance",editUrl:"https://crowdin.com/project/phpbb-ext-sitemaker/pt",version:"current",lastUpdatedBy:"blitze",lastUpdatedAt:1624397021,formattedLastUpdatedAt:"22/06/2021",sidebarPosition:5,frontMatter:{title:"Block Inheritance",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Setting a Default Layout",permalink:"/phpBB-ext-sitemaker/pt/docs/user/site/default-layout"},next:{title:"Customizing Blocks Display",permalink:"/phpBB-ext-sitemaker/pt/docs/user/site/block-modifiers"}},h=[{value:"Parent/Child Routes",id:"parentchild-routes",children:[]},{value:"Parent/Child Block Inheritance",id:"parentchild-block-inheritance",children:[]},{value:"Controlling Block Inheritance",id:"controlling-block-inheritance",children:[]},{value:"Posible Future State",id:"posible-future-state",children:[]}],c={toc:h};function u(e){var t=e.components,n=(0,i.Z)(e,a);return(0,o.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"We have already seen that by setting a default layout, other pages that do not have blocks of their own will inherit the blocks from the default layout.\nThere is, however, another type of block inheritance."),(0,o.kt)("h2",{id:"parentchild-routes"},"Parent/Child Routes"),(0,o.kt)("p",null,"In phpBB SiteMaker, we speak of nested routes in terms of real nested (sub) directories or virtually nested paths/routes. Please stay with me :)."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Real Parent/Child routes: For example, the path /some_directory/sub_directory/index.php is a child of /some_directory/index.php"),(0,o.kt)("li",{parentName:"ul"},"Virtual Parent/Child routes: For example, viewtopic.php is treated as a child of viewforum.php.")),(0,o.kt)("p",null,"Here are some examples of parent/child routes:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Parent"),(0,o.kt)("th",{parentName:"tr",align:null},"Child"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"/index.php"),(0,o.kt)("td",{parentName:"tr",align:null},"/viewforum.php, /dir/index.php")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"/viewforum.php?f=2"),(0,o.kt)("td",{parentName:"tr",align:null},"/viewtopic.php?f=2&t=1")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"/app.php/articles"),(0,o.kt)("td",{parentName:"tr",align:null},"/app.php/articles/my-article")))),(0,o.kt)("h2",{id:"parentchild-block-inheritance"},"Parent/Child Block Inheritance"),(0,o.kt)("p",null,"For parent/child routes, the child route inherits the blocks of the parent route (if the parent has its own blocks) or from the default layout (if one has been set).\nIn other words, even if there is a default layout, the child route will inherit blocks from its parent route if the parent route has its own blocks.\nBut not all blocks from the parent route must be inherited. "),(0,o.kt)("h2",{id:"controlling-block-inheritance"},"Controlling Block Inheritance"),(0,o.kt)("p",null,"At a block level, you can control when a block can be inherited by child routes.\nWe touched on this earlier in the ",(0,o.kt)("a",{parentName:"p",href:"/docs/user/blocks/managing-blocks#editing-block-settings"},"Editing Block Settings"),"."),(0,o.kt)("p",null,"Consider the following real directory structure:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"phpBB\n\u251c\u2500\u2500 index.php\n\u2514\u2500\u2500 Movies/\n    \u251c\u2500\u2500 index.php\n    \u251c\u2500\u2500 page.php\n    \u2514\u2500\u2500 Comedy/\n        \u2514\u2500\u2500 index.php\n")),(0,o.kt)("p",null,"For the purposes of inheriting blocks, we say: "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"The parent route of /phpBB/Movies/Comedy/index.php is /phpBB/Movies/index.php and not /phpBB/Movies/page.php"),(0,o.kt)("li",{parentName:"ul"},"All pages in a sub directory relative to /phpBB/index.php is a child route of /phpBB/index.php. So /phpBB/Movies/index.php and /phpBB/Movies/page.php are all children of /phpBB/index.php and will therefore inherit its blocks if they do not have blocks of their own. In this case:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"When a block on /phpBB/index.php is set to display on ",(0,o.kt)("strong",{parentName:"li"},"Hide on child routes"),", the block will show on /phpBB/index.php (parent route) but not on its child routes"),(0,o.kt)("li",{parentName:"ul"},"When a block on /phpBB/index.php is set to display on ",(0,o.kt)("strong",{parentName:"li"},"Show on child routes only"),", it will display on /phpBB/Movies/index.php and /phpBB/Movies/page.php (child routes) but not on /phpBB/index.php (parent), nor /phpBB/Movies/Comedy/index.php (we only go one level deep)"),(0,o.kt)("li",{parentName:"ul"},"When a block on /phpBB/index.php is set to display ",(0,o.kt)("strong",{parentName:"li"},"always")," (default), it will display on /phpBB/index.php (parent), /phpBB/Movies/index.php and /phpBB/page.php (child routes) but not on /phpBB/Movies/Comedy/index.php (we only go one level deep). In this case, /phpBB/Movies/Comedy/index.php will inherit from the default route (if it exists)")))),(0,o.kt)("h2",{id:"posible-future-state"},"Posible Future State"),(0,o.kt)("p",null,"I'm really interested in your feedback in this area.\nMost phpBB users will not have real directories as outlined above.\nSo I'm thinking of using the structure that is defined in a menu block as a virtual directory structure and apply this parent/child inheritance to it.\nI'm also considering going beyond one level deep.\nPlease let me know if this will be useful to you."))}u.isMDXComponent=!0}}]);