<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Understanding Block Inheritance · phpBB SiteMaker Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;We have already seen that by setting a default layout, other pages that do not have blocks of their own will inherit the blocks from the default layout.&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Understanding Block Inheritance · phpBB SiteMaker Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://blitze.github.io/index.html"/><meta property="og:description" content="&lt;p&gt;We have already seen that by setting a default layout, other pages that do not have blocks of their own will inherit the blocks from the default layout.&lt;/p&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/false"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><link rel="alternate" type="application/atom+xml" href="https://blitze.github.io/blog/atom.xml" title="phpBB SiteMaker Docs Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://blitze.github.io/blog/feed.xml" title="phpBB SiteMaker Docs Blog RSS Feed"/><link rel="stylesheet" href="/css/copy-code-button.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/copy-code-button.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100,"backgroundColor":"#777"}
          )
        });
        </script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><h2 class="headerTitle">phpBB SiteMaker Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/en/introduction" target="_self">Docs</a></li><li class=""><a href="/en/help" target="_self">Help</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><li class=""><a target="_self"></a></li><li class=""><a href="https://www.github.com/blitze/phpBB-ext-sitemaker" target="_self">Github</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Userguide</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Userguide<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Getting Started</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/en/installation">Installing / Upgrading</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Building Blocks</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/blocks-overview">What are blocks?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/blocks-views">Block Views</a></li><li class="navListItem"><a class="navItem" href="/docs/en/blocks-managing">Mananaging Blocks</a></li><li class="navListItem"><a class="navItem" href="/docs/en/blocks-custom">Custom Block</a></li><li class="navListItem"><a class="navItem" href="/docs/en/filemanager">Responsive Filemanager</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Menus</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/menus-managing">Managing Menus</a></li><li class="navListItem"><a class="navItem" href="/docs/en/menus-managing-items">Managing Menu Items</a></li><li class="navListItem"><a class="navItem" href="/docs/en/menus-display">Displaying Menus</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Building your site</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/site-layouts">Layouts</a></li><li class="navListItem"><a class="navItem" href="/docs/en/site-navbar">Navigation Bar</a></li><li class="navListItem"><a class="navItem" href="/docs/en/site-block-modifiers">Customizing Blocks Display</a></li><li class="navListItem"><a class="navItem" href="/docs/en/site-startpage">Setting a Start Page</a></li><li class="navListItem"><a class="navItem" href="/docs/en/site-default-layout">Setting a Default Layout</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/blocks-inheritance">Understanding Block Inheritance</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Developer Guide<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/developer-extensions">Extending phpBB SiteMaker</a></li><li class="navListItem"><a class="navItem" href="/docs/en/developer-events">phpBB SiteMaker Events</a></li><li class="navListItem"><a class="navItem" href="/docs/en/developer-theming">Theming</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Contributing<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/contrib-overview">Getting Involved</a></li><li class="navListItem"><a class="navItem" href="/docs/en/contrib-translators">Translators</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Understanding Block Inheritance</h1></header><article><div><span><p>We have already seen that by setting a default layout, other pages that do not have blocks of their own will inherit the blocks from the default layout.
There is, however, another type of block inheritance.</p>
<h2><a class="anchor" aria-hidden="true" id="parent-child-routes"></a><a href="#parent-child-routes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parent/Child Routes</h2>
<p>In phpBB SiteMaker, we speak of nested routes in terms of real nested (sub) directories or virtually nested paths/routes. Please stay with me :).</p>
<ul>
<li>Real Parent/Child routes: For example, the path /some_directory/sub_directory/index.php is a child of /some_directory/index.php</li>
<li>Virtual Parent/Child routes: For example, viewtopic.php is treated as a child of viewforum.php.</li>
</ul>
<p>Here are some examples of parent/child routes:</p>
<table>
<thead>
<tr><th>Parent</th><th>Child</th></tr>
</thead>
<tbody>
<tr><td>/index.php</td><td>/viewforum.php, /dir/index.php</td></tr>
<tr><td>/viewforum.php?f=2</td><td>/viewtopic.php?f=2&amp;t=1</td></tr>
<tr><td>/app.php/articles</td><td>/app.php/articles/my-article</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="parent-child-block-inheritance"></a><a href="#parent-child-block-inheritance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parent/Child Block Inheritance</h2>
<p>For parent/child routes, the child route inherits the blocks of the parent route (if the parent has its own blocks) or from the default layout (if one has been set).
In other words, even if there is a default layout, the child route will inherit blocks from its parent route if the parent route has its own blocks.
But not all blocks from the parent route must be inherited.</p>
<h2><a class="anchor" aria-hidden="true" id="controlling-block-inheritance"></a><a href="#controlling-block-inheritance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Controlling Block Inheritance</h2>
<p>At a block level, you can control when a block can be inherited by child routes.
We touched on this earlier in the <a href="./blocks-managing#editing-block-settings">Editing Block Settings</a>.</p>
<p>Consider the following real directory structure:</p>
<pre><code class="hljs">- phpBB/
    - Movies/
        - Comedy/
            - index.php
        - index.php
        - page.php
    - index.php
</code></pre>
<p>For the purposes of inheriting blocks, we say:</p>
<ul>
<li>The parent route of /phpBB/Movies/Comedy/index.php is /phpBB/Movies/index.php and not /phpBB/Movies/page.php</li>
<li>All pages in a sub directory relative to /phpBB/index.php is a child route of /phpBB/index.php. So /phpBB/Movies/index.php and /phpBB/Movies/page.php are all children of /phpBB/index.php and will therefore inherit its blocks if they do not have blocks of their own. In this case:
<ul>
<li>When a block on /phpBB/index.php is set to display on <strong>Hide on child routes</strong>, the block will show on /phpBB/index.php (parent route) but not on its child routes</li>
<li>When a block on /phpBB/index.php is set to display on <strong>Show on child routes only</strong>, it will display on /phpBB/Movies/index.php and /phpBB/Movies/page.php (child routes) but not on /phpBB/index.php (parent), nor /phpBB/Movies/Comedy/index.php (we only go one level deep)</li>
<li>When a block on /phpBB/index.php is set to display <strong>always</strong> (default), it will display on /phpBB/index.php (parent), /phpBB/Movies/index.php and /phpBB/page.php (child routes) but not on /phpBB/Movies/Comedy/index.php (we only go one level deep). In this case, /phpBB/Movies/Comedy/index.php will inherit from the default route (if it exists)</li>
</ul></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="posible-future-state"></a><a href="#posible-future-state" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Posible Future State</h2>
<p>I'm really interested in your feedback in this area.
Most phpBB users will not have real directories as outlined above.
So I'm thinking of using the structure that is defined in a menu block as a virtual directory structure and apply this parent/child inheritance to it.
I'm also considering going beyond one level deep.
Please let me know if this will be useful to you.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 2/15/2019 by blitze</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/site-default-layout"><span class="arrow-prev">← </span><span>Setting a Default Layout</span></a><a class="docs-next button" href="/docs/en/developer-extensions"><span class="function-name-prevnext">Extending phpBB SiteMaker</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#parent-child-routes">Parent/Child Routes</a></li><li><a href="#parent-child-block-inheritance">Parent/Child Block Inheritance</a></li><li><a href="#controlling-block-inheritance">Controlling Block Inheritance</a></li><li><a href="#posible-future-state">Posible Future State</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"></a><div><h5>Docs</h5><a href="/docs/en/introduction">Userguide</a><a href="/docs/en/developer-extensions">Developer Guide</a><a href="/docs/en/contrib-overview">Contribute</a></div><div><h5>Community</h5><a href="https://www.phpbb.com/customise/db/extension/phpbb_sitemaker_2/support">Project support page</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/blitze" target="_blank">GitHub</a><a class="github-button" href="https://github.com/blitze/phpBB-ext-sitemaker" data-icon="octicon-star" data-count-href="/blitze/phpBB-ext-sitemaker/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 phpBB SiteMaker</section></footer></div></body></html>